---
import Testimonial from "@components/Testimonial.astro";

interface Item {
  quote: string;
  name: string;
  role?: string;
  company?: string;
  imageUrl?: string;
}

interface Props {
  items?: Item[];
  title?: string;
  subtitle?: string;
}

const defaultItems: Item[] = [
  {
    quote:
      "WomenDevsSG has been instrumental in my career growth. The community's support and mentorship helped me transition to a senior role.",
    name: "Sarah Chen",
    role: "Senior Software Engineer",
    company: "Tech Corp",
  },
  {
    quote:
      "I've made lifelong friends and found amazing career opportunities through this community.",
    name: "Priya Sharma",
    role: "Full Stack Developer",
    company: "StartupLabs",
  },
  {
    quote:
      "Being part of WomenDevsSG gave me the confidence to step into leadership roles.",
    name: "Jessica Wong",
    role: "Tech Lead",
    company: "Innovation Hub",
  },
];

const {
  items = defaultItems,
  title = "What Our Community Says",
  subtitle = "Hear from the amazing women who are part of our thriving tech community in Singapore",
} = Astro.props as Props;

const list = (items ?? []).slice(0, 10);
---
{list.length === 0 ? (
  <section id="testimonials" class="pb-6 pt-12 w-full max-w-6xl">
    <h2 class="text-3xl font-semibold tracking-wide">Testimonials</h2>
    <p class="mt-2 opacity-80">No testimonials available yet.</p>
  </section>
) : (
  <section id="testimonials" class="pb-6 pt-12 w-full max-w-6xl">
    <div class="text-center mb-8">
      <h2 class="text-3xl font-semibold tracking-wide">{title}</h2>
      {subtitle && <p class="mt-2 opacity-80">{subtitle}</p>}
    </div>

    <div class="grid grid-cols-1 gap-6 sm:grid-cols-2 lg:grid-cols-3">
      {list.map((t) => (
        <Testimonial {...t} />
      ))}
    </div>
  </section>
)}
